{% extends "base.html" %}

{% block title %}User Profile{% endblock %}

{% block content %}
    <h1>User Profile</h1>
    <p>Username: {{ user.username }}</p>

    <form method="post">
        {{ form.hidden_tag() }}

        <label for="name">First Name:</label>
        {{ form.name }}<br>
        {% if form.name.errors %}
            {% for error in form.name.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <label for="surname">Last Name:</label>
        {{ form.surname }}<br>
        {% if form.surname.errors %}
            {% for error in form.surname.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <label for="email">Email:</label>
        {{ form.email }}<br>
        {% if form.email.errors %}
            {% for error in form.email.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <label for="phone_number">Phone Number:</label>
        {{ form.phone_number }}<br>
        {% if form.phone_number.errors %}
            {% for error in form.phone_number.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <hr>

        {{ form.submit_details }}
    </form>

    <hr>

    <h2>Change Password (Optional)</h2>
    <form method="post">
        {{ form.hidden_tag() }}

        <label for="current_password">Current Password:</label>
        {{ form.current_password }}<br>
        {% if form.current_password.errors %}
            {% for error in form.current_password.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <label for="new_password">New Password:</label>
        {{ form.new_password }}<br>
        {% if form.new_password.errors %}
            {% for error in form.new_password.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <label for="confirm_new_password">Confirm New Password:</label>
        {{ form.confirm_new_password }}<br>
        {% if form.confirm_new_password.errors %}
            {% for error in form.confirm_new_password.errors %}
                <span style="color: red;">{{ error }}</span><br>
            {% endfor %}
        {% endif %}

        <br>
        {{ form.submit_password }}
    </form>

    <a href="{{ url_for('routes.home') }}">Back to Home</a>
{% endblock %}
